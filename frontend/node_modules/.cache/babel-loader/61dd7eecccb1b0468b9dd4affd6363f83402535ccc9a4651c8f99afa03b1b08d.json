{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AlessioLongo\\\\OneDrive - ITS Angelo Rizzoli\\\\Documenti\\\\Workspace\\\\pokemonweb\\\\frontend\\\\src\\\\components\\\\PokemonTeam.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport PokemonCard from './PokemonCard';\nimport { apiFetch } from '../services/api';\nimport { typeColorClass } from '../utils/typeColorClass';\nimport Loader from './common/Loader';\nimport Input from './common/Input';\nimport Header from './Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAX_TEAM_SIZE = 6;\nfunction PokemonTeam() {\n  _s();\n  const {\n    user,\n    isAuthenticated,\n    logout\n  } = useContext(AuthContext);\n  const [team, setTeam] = useState([]);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [allPokemon, setAllPokemon] = useState([]);\n  const [search, setSearch] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  // recupero la squadra dell'utente loggato usando il token\n  useEffect(() => {\n    async function fetchTeam() {\n      if (isAuthenticated) {\n        setLoading(true);\n        try {\n          // uso il wrapper che lancia già in caso di errore\n          const data = await apiFetch('/api/team');\n          const teamWithSprites = await Promise.all(data.map(async p => {\n            // recupero lo sprite del pokémon da pokeapi\n            const pokeRes = await fetch(`https://pokeapi.co/api/v2/pokemon/${p.name.toLowerCase()}`);\n            const pokeData = await pokeRes.json();\n            return {\n              ...p,\n              sprite: pokeData.sprites.front_default\n            };\n          }));\n          setTeam(teamWithSprites);\n        } catch (error) {\n          console.error('dettaglio errore:', error);\n          // provo a capire se è un errore di autenticazione\n          if (error.message.includes('401') || error.message.includes('Token has expired') || error.message.includes('Not enough segments')) {\n            logout();\n            navigate('/login');\n          } else {\n            alert('errore nel caricamento della squadra: ' + error.message);\n          }\n        } finally {\n          setLoading(false);\n        }\n      } else {\n        // se l'utente non è loggato, lo reindirizzo al login\n        navigate('/login');\n      }\n    }\n    fetchTeam();\n  }, [isAuthenticated, user, navigate]);\n\n  // recupero la lista di tutti i pokemon solo quando serve\n  useEffect(() => {\n    async function fetchAllPokemon() {\n      const res = await fetch('https://pokeapi.co/api/v2/pokemon?limit=1025');\n      const data = await res.json();\n      // salvo solo nome e id, che estraggo dall'url\n      setAllPokemon(data.results.map(p => ({\n        name: p.name,\n        id: p.url.split('/').filter(Boolean).pop()\n      })));\n    }\n    if (showAddModal && allPokemon.length === 0) fetchAllPokemon();\n  }, [showAddModal, allPokemon.length]);\n\n  // filtro i pokemon in base alla ricerca\n  const filteredPokemon = allPokemon.filter(p => p.name.includes(search)).slice(0, 60); // limito a 60 risultati per performance\n\n  // rimuovo un pokémon dalla squadra\n  const handleRemove = async pokemonId => {\n    await apiFetch(`/api/team/${pokemonId}`, {\n      method: 'DELETE'\n    });\n    setTeam(team.filter(p => p.id !== pokemonId));\n  };\n\n  // apro la modale per aggiungere un pokémon\n  const handleAddClick = () => setShowAddModal(true);\n\n  // aggiungo un pokémon selezionato dalla modale\n  const handleAddPokemon = async pokemonName => {\n    await apiFetch('/api/team', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: pokemonName\n      })\n    });\n    setShowAddModal(false);\n    // aggiorno la squadra dopo l'aggiunta\n    // richiamo fetchTeam tramite un nuovo useEffect su showAddModal\n    setTimeout(() => {\n      // richiamo fetchTeam dopo la chiusura della modale\n      window.location.reload();\n    }, 400);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      minHeight: 400\n    },\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'center'\n      },\n      children: team.map(p => /*#__PURE__*/_jsxDEV(PokemonCard, {\n        pokemon: p,\n        onRemove: () => handleRemove(p.id)\n      }, p.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), team.length < MAX_TEAM_SIZE && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddClick,\n      title: \"aggiungi un pokemon\",\n      style: {\n        position: 'fixed',\n        bottom: 32,\n        right: 32,\n        width: 60,\n        height: 60,\n        borderRadius: '50%',\n        background: 'linear-gradient(135deg, #ffde00 60%, #3b4cca 100%)',\n        color: '#3b4cca',\n        fontSize: 36,\n        border: 'none',\n        boxShadow: '0 4px 16px #3b4cca55',\n        cursor: 'pointer',\n        zIndex: 1000\n      },\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this), showAddModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        background: 'rgba(0,0,0,0.4)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 2000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#fff',\n          borderRadius: 16,\n          padding: 24,\n          minWidth: 320,\n          maxHeight: 500,\n          overflowY: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#3b4cca',\n            marginBottom: 16\n          },\n          children: \"scegli un pok\\xE9mon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          placeholder: \"cerca pok\\xE9mon\",\n          value: search,\n          onChange: e => setSearch(e.target.value.toLowerCase()),\n          style: {\n            width: '100%',\n            padding: 8,\n            marginBottom: 16,\n            borderRadius: 8,\n            border: '1px solid #3b4cca',\n            fontSize: 16\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: 12,\n            maxHeight: 350,\n            overflowY: 'auto'\n          },\n          children: [filteredPokemon.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#e74c3c'\n            },\n            children: \"nessun pok\\xE9mon trovato\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 48\n          }, this), filteredPokemon.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: () => handleAddPokemon(p.name),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${p.id}.png`,\n              alt: p.name,\n              style: {\n                width: 56,\n                height: 56\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                color: '#3b4cca',\n                fontWeight: 600\n              },\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this)]\n          }, p.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddModal(false),\n          style: {\n            marginTop: 16,\n            background: '#e74c3c',\n            color: '#fff',\n            border: 'none',\n            borderRadius: 8,\n            padding: '6px 18px',\n            cursor: 'pointer'\n          },\n          children: \"chiudi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_s(PokemonTeam, \"mCGZRAAQnllky1bBZ73dLaGN6Ig=\", false, function () {\n  return [useNavigate];\n});\n_c = PokemonTeam;\nexport default PokemonTeam;\nvar _c;\n$RefreshReg$(_c, \"PokemonTeam\");","map":{"version":3,"names":["React","useEffect","useState","useContext","AuthContext","useNavigate","PokemonCard","apiFetch","typeColorClass","Loader","Input","Header","jsxDEV","_jsxDEV","MAX_TEAM_SIZE","PokemonTeam","_s","user","isAuthenticated","logout","team","setTeam","showAddModal","setShowAddModal","allPokemon","setAllPokemon","search","setSearch","loading","setLoading","navigate","fetchTeam","data","teamWithSprites","Promise","all","map","p","pokeRes","fetch","name","toLowerCase","pokeData","json","sprite","sprites","front_default","error","console","message","includes","alert","fetchAllPokemon","res","results","id","url","split","filter","Boolean","pop","length","filteredPokemon","slice","handleRemove","pokemonId","method","handleAddClick","handleAddPokemon","pokemonName","headers","body","JSON","stringify","setTimeout","window","location","reload","style","position","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","display","flexWrap","justifyContent","pokemon","onRemove","onClick","title","bottom","right","width","height","borderRadius","background","color","fontSize","border","boxShadow","cursor","zIndex","top","left","alignItems","padding","minWidth","maxHeight","overflowY","marginBottom","type","placeholder","value","onChange","e","target","gap","src","alt","textAlign","fontWeight","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/AlessioLongo/OneDrive - ITS Angelo Rizzoli/Documenti/Workspace/pokemonweb/frontend/src/components/PokemonTeam.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport PokemonCard from './PokemonCard';\r\nimport { apiFetch } from '../services/api';\r\nimport { typeColorClass } from '../utils/typeColorClass';\r\nimport Loader from './common/Loader';\r\nimport Input from './common/Input';\r\nimport Header from './Header';\r\n\r\nconst MAX_TEAM_SIZE = 6;\r\n\r\nfunction PokemonTeam() {\r\n  const { user, isAuthenticated, logout } = useContext(AuthContext);\r\n  const [team, setTeam] = useState([]);\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [allPokemon, setAllPokemon] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // recupero la squadra dell'utente loggato usando il token\r\n  useEffect(() => {\r\n    async function fetchTeam() {\r\n      if (isAuthenticated) {\r\n        setLoading(true);\r\n        try {\r\n          // uso il wrapper che lancia già in caso di errore\r\n          const data = await apiFetch('/api/team');\r\n          const teamWithSprites = await Promise.all(\r\n            data.map(async (p) => {\r\n              // recupero lo sprite del pokémon da pokeapi\r\n              const pokeRes = await fetch(`https://pokeapi.co/api/v2/pokemon/${p.name.toLowerCase()}`);\r\n              const pokeData = await pokeRes.json();\r\n              return {\r\n                ...p,\r\n                sprite: pokeData.sprites.front_default,\r\n              };\r\n            })\r\n          );\r\n          setTeam(teamWithSprites);\r\n        } catch (error) {\r\n          console.error('dettaglio errore:', error);\r\n          // provo a capire se è un errore di autenticazione\r\n          if (\r\n            error.message.includes('401') ||\r\n            error.message.includes('Token has expired') ||\r\n            error.message.includes('Not enough segments')\r\n          ) {\r\n            logout();\r\n            navigate('/login');\r\n          } else {\r\n            alert('errore nel caricamento della squadra: ' + error.message);\r\n          }\r\n        }\r\n        finally {\r\n          setLoading(false);\r\n        }\r\n      } else {\r\n        // se l'utente non è loggato, lo reindirizzo al login\r\n        navigate('/login');\r\n      }\r\n    }\r\n    fetchTeam();\r\n  }, [isAuthenticated, user, navigate]);\r\n\r\n  // recupero la lista di tutti i pokemon solo quando serve\r\n  useEffect(() => {\r\n    async function fetchAllPokemon() {\r\n      const res = await fetch('https://pokeapi.co/api/v2/pokemon?limit=1025');\r\n      const data = await res.json();\r\n      // salvo solo nome e id, che estraggo dall'url\r\n      setAllPokemon(data.results.map(p => ({\r\n        name: p.name,\r\n        id: p.url.split('/').filter(Boolean).pop()\r\n      })));\r\n    }\r\n    if (showAddModal && allPokemon.length === 0) fetchAllPokemon();\r\n  }, [showAddModal, allPokemon.length]);\r\n\r\n  // filtro i pokemon in base alla ricerca\r\n  const filteredPokemon = allPokemon\r\n    .filter(p => p.name.includes(search))\r\n    .slice(0, 60); // limito a 60 risultati per performance\r\n\r\n  // rimuovo un pokémon dalla squadra\r\n  const handleRemove = async (pokemonId) => {\r\n    await apiFetch(`/api/team/${pokemonId}`, { method: 'DELETE' });\r\n    setTeam(team.filter(p => p.id !== pokemonId));\r\n  };\r\n\r\n  // apro la modale per aggiungere un pokémon\r\n  const handleAddClick = () => setShowAddModal(true);\r\n\r\n  // aggiungo un pokémon selezionato dalla modale\r\n  const handleAddPokemon = async (pokemonName) => {\r\n    await apiFetch('/api/team', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ name: pokemonName })\r\n    });\r\n    setShowAddModal(false);\r\n    // aggiorno la squadra dopo l'aggiunta\r\n    // richiamo fetchTeam tramite un nuovo useEffect su showAddModal\r\n    setTimeout(() => {\r\n      // richiamo fetchTeam dopo la chiusura della modale\r\n      window.location.reload();\r\n    }, 400);\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative', minHeight: 400 }}>\r\n      <Header />\r\n      <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'center' }}>\r\n        {team.map((p) => (\r\n          <PokemonCard\r\n            key={p.id}\r\n            pokemon={p}\r\n            onRemove={() => handleRemove(p.id)}\r\n          />\r\n        ))}\r\n      </div>\r\n      {/* bottone flottante per aggiungere pokemon */}\r\n      {team.length < MAX_TEAM_SIZE && (\r\n        <button\r\n          onClick={handleAddClick}\r\n          title=\"aggiungi un pokemon\"\r\n          style={{\r\n            position: 'fixed',\r\n            bottom: 32,\r\n            right: 32,\r\n            width: 60,\r\n            height: 60,\r\n            borderRadius: '50%',\r\n            background: 'linear-gradient(135deg, #ffde00 60%, #3b4cca 100%)',\r\n            color: '#3b4cca',\r\n            fontSize: 36,\r\n            border: 'none',\r\n            boxShadow: '0 4px 16px #3b4cca55',\r\n            cursor: 'pointer',\r\n            zIndex: 1000\r\n          }}\r\n        >+</button>\r\n      )}\r\n      {/* modale per aggiungere pokemon */}\r\n      {showAddModal && (\r\n        <div style={{\r\n          position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh',\r\n          background: 'rgba(0,0,0,0.4)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 2000\r\n        }}>\r\n          <div style={{\r\n            background: '#fff', borderRadius: 16, padding: 24, minWidth: 320, maxHeight: 500, overflowY: 'auto'\r\n          }}>\r\n            <h3 style={{ color: '#3b4cca', marginBottom: 16 }}>scegli un pokémon</h3>\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"cerca pokémon\"\r\n              value={search}\r\n              onChange={e => setSearch(e.target.value.toLowerCase())}\r\n              style={{\r\n                width: '100%',\r\n                padding: 8,\r\n                marginBottom: 16,\r\n                borderRadius: 8,\r\n                border: '1px solid #3b4cca',\r\n                fontSize: 16\r\n              }}\r\n            />\r\n            <div style={{ display: 'flex', flexWrap: 'wrap', gap: 12, maxHeight: 350, overflowY: 'auto' }}>\r\n              {filteredPokemon.length === 0 && <div style={{ color: '#e74c3c' }}>nessun pokémon trovato</div>}\r\n              {filteredPokemon.map(p => (\r\n                <div key={p.id} style={{ cursor: 'pointer' }} onClick={() => handleAddPokemon(p.name)}>\r\n                  <img\r\n                    src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${p.id}.png`}\r\n                    alt={p.name}\r\n                    style={{ width: 56, height: 56 }}\r\n                  />\r\n                  <div style={{ textAlign: 'center', color: '#3b4cca', fontWeight: 600 }}>{p.name}</div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <button onClick={() => setShowAddModal(false)} style={{\r\n              marginTop: 16, background: '#e74c3c', color: '#fff', border: 'none', borderRadius: 8, padding: '6px 18px', cursor: 'pointer'\r\n            }}>chiudi</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {loading && <Loader />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PokemonTeam;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}